[{"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/index.js":"1","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/App.js":"2","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/TitleView.js":"3","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/Card.js":"4","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/Modal.js":"5","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/SideBar.js":"6","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/NavBar.js":"7","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/AboutView.js":"8","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/forms/ContactForm.js":"9","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/forms/OrderForm.js":"10","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/reportWebVitals.js":"11","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/MainView/ProductView.js":"12"},{"size":984,"mtime":1610484239190,"results":"13","hashOfConfig":"14"},{"size":4544,"mtime":1610715854435,"results":"15","hashOfConfig":"14"},{"size":538,"mtime":1610484485144,"results":"16","hashOfConfig":"14"},{"size":798,"mtime":1609607329636,"results":"17","hashOfConfig":"18"},{"size":736,"mtime":1609017091430,"results":"19","hashOfConfig":"18"},{"size":1022,"mtime":1610715854435,"results":"20","hashOfConfig":"14"},{"size":499,"mtime":1610715854435,"results":"21","hashOfConfig":"14"},{"size":1526,"mtime":1610715854435,"results":"22","hashOfConfig":"14"},{"size":1874,"mtime":1610715854435,"results":"23","hashOfConfig":"14"},{"size":9158,"mtime":1610715854435,"results":"24","hashOfConfig":"14"},{"size":362,"mtime":1609967877517,"results":"25","hashOfConfig":"14"},{"size":1624,"mtime":1610715854435,"results":"26","hashOfConfig":"14"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"oj0fc5",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"cdzrlc",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/index.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/App.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/TitleView.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/Card.js",[],["54","55"],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/Modal.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/SideBar.js",[],["56","57"],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/NavBar.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/AboutView.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/forms/ContactForm.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/forms/OrderForm.js",["58"],"import React from \"react\";\nimport { useFormik } from \"formik\";\nimport { useCounter } from \"../useCounter\";\n\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { SlideContext } from \"../App\";\nimport axios from 'axios'\nimport { Link, Route, Switch, useRouteMatch } from \"react-router-dom\";\n// Make sure to call `loadStripe` outside of a component’s render to avoid\n// recreating the `Stripe` object on every render.\nconst stripePromise = loadStripe(\"pk_test_51I1BFoC0FThOiM88ibeVU68obGLS7Ccgf2SePqiTsVnV1ZJ7f6ZyVLJ3dtq2vuXuGWNBInqqCWiUUSvnSoyjWrbP001fGJgxXV\");\n\nexport default function OrderForm({ product }) {\n  return (\n    <Elements stripe={stripePromise}>\n      <OrderCreator product={product}/>\n      <MyCheckoutForm product={product}/>\n    </Elements>\n  );\n}\n\nconst dessert = {\n  id: 1,  \n  name: \"Cheesecake à la framboise\",\n  price: 12,\n  composition: [\n    { name: \"biscuits\", qt: 16, unit: \"ua\", desc: \"(type petit beurre)\" },\n    { name: \"crème légère épaisse\", qt: 1, unit: \"pot\", desc: \"\" },\n    { name: \"lait concentré\", qt: 1, unit: \"pot\", desc: \"sucré\" },\n    { name: \"noix de coco rapée\", qt: 4, unit: \"cuillères à soupe\", desc: \"\" },\n    { name: \"betterave cuite\", qt: 1, unit: \"paquet\", desc: \"\" },\n    { name: \"citrons verts\", qt: 4, unit: \"ua\", desc: \"\" },\n    {\n      name: \"framboises surgelées\",\n      qt: 150,\n      unit: \"g\",\n      desc:\n        \"décongelées et égouttées (ou des framboises fraîches si c'est la saison)\",\n    },\n    { name: \"huile de coco vierge\", qt: 1, unit: \"cuillère à soupe\", desc: \"\" },\n  ],\n  winelist: [\"Gewurztraminer Vendanges Tardives\", \"Riesling\"],\n  photoURL:\n    \"https://assets.afcdn.com/recipe/20200210/107308_w1024h768c1cx1761cy3372.webp\",\n  description:\n    \"Un cabernet franc de Loire, comme un Saumur Champigny, est idéal sur un chapon farci aux marrons ou un chapon farci aux champignons.\",\n  createdAt: \"2020-12-26T18:12:55.000Z\",\n  updatedAt: \"2020-12-26T18:12:55.000Z\",\n};\nconst plat = {\n  id: 1,\n  name: \"Chapon Farci aux marrons et foie gras\",\n  price: 10,\n  shippingDate: \"2020-12-26T18:12:55.000Z\",\n  composition: [\n    { name: \"Chapon\", qt: 1, unit: \"ua\", desc: \"\" },\n    { name: \"Farces\", qt: 150, unit: \"g\", desc: \"\" },\n  ],\n  winelist: [\"Cabernet Sauvignon\", \"Vin Rouge\"],\n  photoURL:\n    \"https://assets.afcdn.com/recipe/20161017/24193_w1024h768c1cx2464cy1632.webp\",\n  description: \"Un super Chapon farci\",\n  createdAt: \"2020-12-26T18:12:55.000Z\",\n  updatedAt: \"2020-12-26T18:12:55.000Z\",\n};\nconst entree = {\n  id: 1,\n  name: \"velouté de la Saint Valentin\",\n  price: 8,\n  shippingDate: \"2020-12-26T18:12:55.000Z\",\n  composition: [],\n  winelist: [],\n  photoURL:\n    \"https://assets.afcdn.com/recipe/20190109/85760_w1024h768c1cx2514cy4785.webp\",\n  description: \"\",\n  createdAt: \"2020-12-26T18:12:55.000Z\",\n  updatedAt: \"2020-12-26T18:12:55.000Z\",\n};\nconst entree2= {\n  id: 1,\n  name: \"Entree2\",\n  price: 8,\n  shippingDate: \"2020-12-26T18:12:55.000Z\",\n  composition: [],\n  winelist: [],\n  photoURL:\n    \"https://assets.afcdn.com/recipe/20190109/85760_w1024h768c1cx2514cy4785.webp\",\n  description: \"\",\n  createdAt: \"2020-12-26T18:12:55.000Z\",\n  updatedAt: \"2020-12-26T18:12:55.000Z\",\n};\nconst menu1 = {\n  entree: entree,\n  plat: plat,\n  dessert: dessert,\n  price:25\n};\nconst menu2= {\n  entree: entree2,\n  plat: plat,\n  dessert: dessert,\n  price:39\n};\n\nconst MyCheckoutForm = (/* { product } */) => {\n  const product=[menu1,menu2]\n  const { count, addCountHandler, removeCountHandler } = useCounter(1);\n  const {slideIndex,setCurrentSlide}=React.useContext(SlideContext);\n  const stripe = useStripe();\n  const elements = useElements();\n  const formik = useFormik({\n    initialValues: { name: \"\", phone: \"\", line1:\"\",city: \"\",postal_code:\"\", email: \"\", menu_id: 0},\n    onSubmit: (values) => {\n      handleSubmitStripe(values,product[slideIndex].price * count);\n    },\n  });\n  const [isProcessing,setProcessing]=React.useState(false)\n  const handleSubmitStripe = async (values,price) => {\n    // Block native form submission.\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet. Make sure to disable\n      // form submission until Stripe.js has loaded.\n      return;\n    }\n    setProcessing(true)\n    console.log(values);\n\n    // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element.\n    const billingDetails={name: values.name, phone: values.phone, address:{line1:values.line1,city:values.city,postal_code:values.postal_code}, email:values.email};\n    const {data:clientSecret}=await axios.post(\"http://localhost:3001/payment_intents\",{amount:price*100});\n    console.log(clientSecret)\n    \n    const cardElement = elements.getElement(CardElement);\n    \n    const {error, paymentMethod} = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement,\n      billing_details: billingDetails\n    });\n\n    const result = await stripe.confirmCardPayment(clientSecret, {\n      payment_method:   paymentMethod.id,\n      });\n      console.log(result)\n\n    // Use your card Element with other Stripe.js APIs\n    \n    \n    /* const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement,\n      billing_details: {name, phone, address, email},\n      metadata:{menu_id:values.menu_id},\n      amount: product.price,\n    });\n\n    if (error) {\n      console.log(\"[error]\", error);\n    } else {\n      console.log(\"[PaymentMethod]\", paymentMethod);\n    }*/\n  }; \n\n\n  \n  const CARD_ELEMENT_OPTIONS = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#aab7c4\",\n        },\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\",\n      },\n    },\n    hidePostalCode:true\n  };\n  const inputs = [\n    { id: \"name\", name: \"name\", placeholder: \"Nom - Prenom\", type: \"text\" },\n    { id: \"phone\",name: \"phone\",placeholder: \"Numero de telephone\",type: \"tel\"},\n    { id: \"line1\",name: \"line1\",placeholder: \"Adresse de livraison\",type: \"text\"},\n    { id: \"postal_code\",name: \"postal_code\",placeholder: \"Code Postal\",type: \"text\"},\n    { id: \"city\",name: \"city\",placeholder: \"Ville\",type: \"text\"},\n    { id: \"email\", name: \"email\", placeholder: \"Courriel\", type: \"email\" },\n  ];\n  return (\n    <form className=\"col\" onSubmit={formik.handleSubmit}>\n      {inputs.map((input) => (\n        <InputField\n          key={input.id}\n          input={input}\n          onChange={formik.handleChange}\n          value={formik.values}\n        />\n      ))}\n      <div id=\"my-radio-group\">Menu n°{Number(formik.values.menu_id)+1}</div>\n      <div className=\"row center\" role=\"group\">\n          <input type=\"radio\" name=\"menu_id\" defaultChecked  value={0} onChange={(e)=>{setCurrentSlide(e.target.value); formik.setFieldValue(\"menu_id\",e.target.value);}}/>\n          <label className=\"label-radio\">1</label>\n          <input type=\"radio\" name=\"menu_id\" value={1} onChange={(e)=>{setCurrentSlide(e.target.value); formik.setFieldValue(\"menu_id\",e.target.value);}}/>\n          <label className=\"label-radio\">2</label>\n      </div>\n\n     <p>Total : {product[slideIndex].price} x {count}={product[slideIndex].price * count} €</p>\n      <CardElement options={CARD_ELEMENT_OPTIONS} />\n      <div className=\"row\">\n        <button type=\"submit\" disabled={isProcessing || count===0}>\n          {isProcessing? \"Commande en cours..\":\"Commander Immediatement\"}\n        </button>\n      </div>\n      <p>Les livraisons sont assurées <b>uniquement</b> en Ile de France (77, 78, 91, 92, 93, 95).<br/> L'envoi par coli vous sera facturé différement selon l'adresse de livraison</p>\n    </form>\n  );\n};\n\nconst InputField = ({ input, onChange, value }) => {\n  switch (input.type) {\n    case \"text-area\":\n      return <textarea name=\"Text1\" cols=\"20\" rows=\"5\"></textarea>;\n    default:\n      return (\n        <input\n          id={input.id}\n          name={input.name}\n          placeholder={input.placeholder}\n          type={input.type}\n          onChange={onChange}\n          value={value[input.name]}\n        />\n      );\n  }\n};\n\n\nconst OrderCreator=({product})=>{\n  const products=[{name:\"Menus\",items:[\"fr\",\"fr\"]},{name:\"Amuses Bouches\",items:[\"fr\",\"fr\"]},{name:\"Fromage\",items:[\"\"]},{name:\"Mignardise\",items:[\"\"]}]\n  let { path, url } = useRouteMatch();\n\n  return(\n    <div>\n      <nav>\n        <ul  className=\"center nav-item\">\n          {products.map((item)=>{ return(\n          <li><Link to={`${path}${item.name}`}>{item.name}</Link></li>\n          )})}\n        </ul>\n      </nav>\n      \n      <Switch>\n        {products.map((item)=>{\n        return(\n          <Route path={`${path}${item.name}`}>\n            <Composer item={item}/>\n          </Route>)\n        })}\n      </Switch>\n\n      \n      {/* \n      \n      Pour \n      <Composer item={item}/>\n\n      \n      Nav Choix entre les produits\n        Selecteur de qt\n      Recapitulatif de la commande\n      Livraison : 10 EUR ? Offert  \n      Total\n      */}\n    </div>\n\n  )\n\n}\n\nconst Composer=({item})=>{\n  return(\n  <>\n  <label>{item.name}</label>\n  <div className=\"row \">\n    {item.items.map((itm)=>{return(\n    <div className= \"col\">\n    <label>{itm}</label>\n    <input type=\"number\" id={itm} name={itm} min=\"0\" max=\"100\"></input>\n    </div>\n    )})}  \n  </div>\n  </>\n  )\n}","/home/pierre/Documents/Projet Perso/Thomas/webstore/src/reportWebVitals.js",[],"/home/pierre/Documents/Projet Perso/Thomas/webstore/src/MainView/ProductView.js",[],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"59","replacedBy":"63"},{"ruleId":"61","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":93,"column":13,"nodeType":"67","messageId":"68","endLine":93,"endColumn":18},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],["69"],["70"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]